class FlatsController < ApplicationController
  before_action :set_flat, only: [:show, :edit, :update, :destroy]

  def new
    @flat = Flat.new
    @metro_stations = ["Abbesses", "Adolphe Chérioux", "Alésia", "Alexandre Dumas", "Alma – Marceau", "Anatole France", "Anvers Sacré-Cœur", "Argentine", "Arts et Métiers", "Asnières – Gennevilliers", "Assemblée nationale", "Aubervilliers – Pantin", "Avenue Émile-Zola", "Avron", "Balard", "Barbès – Rochechouart", "Basilique de Saint-Denis", "Bastille", "Bel-Air", "Belleville", "Bérault", "Bercy", "Bibliothèque François-Mitterrand", "Billancourt", "Bir-Hakeim", "Blanche", "Bobigny – Pablo Picasso", "Bobigny – Pantin", "Boissière", "Bolivar", "Bonne-Nouvelle", "Botzaris", "Boucicaut", "Boulogne – Jean Jaurès", "Boulogne – Pont de Saint-Cloud", "Bourse", "Bréguet – Sabin", "Brochant", "Butte Montmartre", "Buttes Chaumont", "Buzenval", "Cadet", "Cambronne", "Campo-Formio", "Cardinal Lemoine", "Carrefour Pleyel", "Censier – Daubenton", "Champs-Élysées – Clemenceau", "Chardon-Lagache", "Charenton – Écoles", "Charles de Gaulle – Étoile", "Charles Michels", "Charonne", "Château de Vincennes", "Château d’Eau", "Château Rouge", "Château-Landon", "Châtelet", "Châtillon-Montrouge", "Chaussée d’Antin – La Fayette", "Chemin Vert", "Chevaleret", "Cité", "Cluny – La Sorbonne", "Colonel Fabien", "Commerce", "Concorde", "Convention", "Corentin Cariou", "Corentin Celton", "Corvisart", "Cour Saint-Émilion", "Courcelles", "Couronnes", "Courteline", "Créteil – L’Échat", "Créteil – Préfecture", "Créteil – Université", "Crimée", "Croix de Chavaux", "Danube", "Daumesnil", "Denfert-Rochereau", "Dugommier", "Dupleix", "Duroc", "École Militaire", "École vétérinaire de Maisons-Alfort", "Edgar Quinet", "Église d’Auteuil", "Église de Pantin", "Esplanade de La Défense", "Étienne Marcel", "Europe", "Exelmans", "Faidherbe – Chaligny", "Falguière", "Félix Éboué", "Félix Faure", "Filles du Calvaire", "Fort d’Aubervilliers", "Franklin D. Roosevelt", "Gabribaldi", "Gabriel Péri", "Gaïté Ligne", "Gallieni", "Gambetta", "Gare d’Austerlitz", "Gare de l’Est", "Gare de Lyon", "Gare du Nord", "George V", "Glacière", "Goncourt", "Grands Boulevards", "Guy Môquet", "Havre – Caumartin", "Hoche", "Hôtel de Ville", "Iéna", "Invalides", "Jacques Bonsergent", "Jasmin", "Jaurès", "Javel – André Citroën", "Jourdain", "Jules Joffrin", "Jussieu", "Kléber", "La Chapelle", "La Courneuve", "La Défense Grande Arche", "La Fourche", "La Motte-Picquet – Grenelle", "La Muette", "La Tour-Maubourg", "Lamarck – Caulaincourt", "Laumière", "Le Kremlin-Bicêtre", "Le Peletier", "Ledru-Rollin", "Léon Blum", "les Agnettes", "Les Gobelins", "Les Halles", "Les Sablons", "Liberté", "Liège", "Louis Blanc", "Louise Michel", "Lourmel", "Louvre – Rivoli", "Mabillon", "Madeleine", "Mairie de Clichy", "Mairie de Montreuil", "Mairie de Montrouge", "Mairie de Saint-Ouen", "Mairie des Lilas", "Mairie d’Issy", "Mairie d’Ivry", "Maison Blanche", "Maisons-Alfort – Les Juilliottes", "Maisons-Alfort – Stade", "Malakoff – Plateau de Vanves", "Malakoff – Rue Etienne Dolet", "Malesherbes", "Maraîchers", "Marcadet", "Marcel Sembat", "Marx Dormoy", "Maubert – Mutualité", "Ménilmontant", "Michel Bizot", "Michel-Ange – Auteuil", "Michel-Ange – Molitor", "Mirabeau", "Miromesnil", "Monceau", "Montgallet", "Montparnasse – Bienvenüe", "Mouton-Duvernet", "Musée d’Orsay", "Nation", "Nationale", "Notre-Dame-de-Lorette", "Notre-Dame-des-Champs", "Oberkampf", "Odéon", "Olympiades", "Opéra", "Ourcq", "Palais Royal – Musée du Louvre", "Parc de la Villette", "Parmentier", "Passy", "Pasteur", "Pelleport", "Père Lachaise", "Pereire", "Pernety", "Philippe Auguste", "Picpus", "Pierre et Marie Curie", "Pigalle", "Place de Clichy", "Place des Fêtes", "Place d’Italie", "Place Monge", "Plaisance", "Créteil – Pointe du Lac", "Poissonnière", "Pont de Levallois – Bécon", "Pont de Neuilly", "Pont de Sèvres", "Pont Neuf", "Pont-Marie Cité des Arts", "Porte Dauphine", "Porte d’Auteuil", "Porte de Bagnolet", "Porte de Champerret", "Porte de Charenton", "Porte de Choisy", "Porte de Clichy", "Porte de Clignancourt", "Porte de la Chapelle", "Porte de la Villette", "Porte de Montreuil", "Porte de Pantin", "Porte de Saint-Cloud", "Porte de Saint-Ouen", "Porte de Vanves", "Porte de Versailles", "Porte de Vincennes", "Porte des Lilas", "Porte d’Italie", "Porte d’Ivry", "Porte Dorée", "Porte d’Orléans", "Porte Maillot", "Pré Saint-Gervais", "Pyramides", "Pyrénées", "Quai de la Gare", "Quai de la Rapée", "Quatre-Septembre", "Rambuteau", "Ranelagh", "Raspail", "Réaumur – Sébastopol", "Rennes", "République", "Reuilly – Diderot", "Richard-Lenoir", "Richelieu – Drouot", "Riquet", "Robespierre", "Rome", "Rue de la Pompe", "Rue des Boulets", "Rue du Bac", "Rue Saint-Maur", "Saint-Ambroise", "Saint-Augustin", "Saint-Denis – Aubervilliers", "Saint-Denis – Stade de France", "Saint-Denis Université", "Saint-Fargeau", "Saint-François Xavier", "Saint-Georges", "Saint-Germain-des-Prés", "Saint-Jacques", "Saint-Lazare", "Saint-Mandé", "Saint-Marcel", "Saint-Michel", "Saint-Paul", "Saint-Philippe du Roule", "Saint-Placide", "Saint-Sébastien – Froissart", "Saint-Sulpice", "Ségur", "Sentier", "Sèvres – Babylone", "Sèvres – Lecourbe", "Simplon", "Solférino", "Stalingrad", "Strasbourg – Saint-Denis", "Sully-Morland", "Télégraphe", "Temple", "Ternes", "Tolbiac", "Tour Eiffel", "Trinité", "Trocadéro", "Tuileries", "Vaneau", "Varenne", "Vaugirard", "Vavin", "Victor Hugo", "Villejuif – Léo Lagrange", "Villejuif – Louis Aragon", "Villejuif – Paul Vaillant", "Villiers", "Volontaires", "Voltaire", "Wagram"]
    authorize @flat
  end

  def create
    @flat = Flat.new(flat_params)
    @flat.user = current_user
    authorize @flat
  end

  private

  def flat_params
    params.require(:flat).permit(:title, :address)
  end

  def set_flat
    @flat = Flat.find(params[:id])
  end
end
